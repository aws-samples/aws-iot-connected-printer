{ "Parameters": { "Customer": { "Type": "String" }, "AWS::IoT::Certificate::Id": { "Type": "String" }, "DeviceName": { "Type": "String" }, "DeviceID": { "Type": "String" }, "Location": { "Type": "String" } }, "Mappings": { "CustomerTable": { "MBAWS": { "CustomerUrl": "https://example.aws" } } }, "Resources": { "thing": { "Type": "AWS::IoT::Thing", "Properties": { "ThingName": { "Fn::Join": [ "", [ "Printer_", { "Ref": "DeviceID" } ] ] }, "AttributePayload": { "version": "v1", "deviceID": "deviceID" } }, "OverrideSettings": { "AttributePayload": "MERGE", "ThingTypeName": "REPLACE", "ThingGroups": "DO_NOTHING" } }, "certificate": { "Type": "AWS::IoT::Certificate", "Properties": { "CertificateId": { "Ref": "AWS::IoT::Certificate::Id" }, "Status": "Active" }, "OverrideSettings": { "Status": "REPLACE" } }, "policy": { "Type": "AWS::IoT::Policy", "Properties": { "PolicyDocument": { "Version": "2012-10-17", "Statement": [ { "Effect": "Allow", "Action": [ "iot:Connect", "iot:Subscribe", "iot:Publish", "iot:Receive" ], "Resource": "*" } ] } } } } }